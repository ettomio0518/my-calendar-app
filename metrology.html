<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>å’Œé¢¨ãƒ»åº¦é‡è¡¡ã‚³ãƒ³ãƒãƒ¼ã‚¿ãƒ¼</title>

<style>
/* ===============================
   å’Œé¢¨ãƒ†ãƒ¼ãƒãƒ»å…¨ä½“è¨­å®š
   =============================== */
body {
    font-family: "Yu Mincho", "Hiragino Mincho ProN", serif;
    background: #bed7da; /* æµ…è‘±è‰²ï¼ˆã‚ã•ãã„ã‚ï¼‰ */
    margin: 0;
    padding: 0;
    color: #0000aa; /* è½ã¡ç€ã„ãŸç´ºè‰² */
}

/* ===============================
   ãƒ˜ãƒƒãƒ€ãƒ¼
   =============================== */
.wf-header {
    background: #649fa4; /* æ¿ƒã„æµ…è‘±è‰² */
    padding: 15px 20px;
    position: relative;
    box-shadow: 0 2px 6px rgba(0,0,0,0.15);
}

.wf-title {
    margin: 0;
    padding-left: 10px; /* â† å’Œé¢¨ã®ä½™ç™½ */
    font-size: 20px;
    color: #fff;
    letter-spacing: 2px;
}

.wf-back-button {
    position: absolute;
    right: 15px;
    top: 12px;
    padding: 4px 12px;
    font-size: 14px;
    border: none;
    border-radius: 20px;
    background: #ccffff;
    color: #333;
    cursor: pointer;
    transition: 0.2s;
}

.wf-back-button:hover {
    background: #fff;
}

/* ===============================
   ã‚«ãƒ¼ãƒ‰ï¼ˆå’Œç´™é¢¨ï¼‰
   =============================== */
.wf-card {
    background: #fffffc; /* èƒ¡ç²‰è‰²ï¼ˆã”ãµã‚“ã„ã‚ï¼‰ */
    margin: 20px;
    border-radius: 10px;
    border: 1px solid #e6e2d3;
    box-shadow: 0 3px 10px rgba(0,0,0,0.08);
    overflow: hidden;
}

/* æŠ˜ã‚ŠãŸãŸã¿ãƒœã‚¿ãƒ³ */
.wf-card-toggle {
    width: 100%;
    text-align: left;
    padding: 14px 16px;
    font-size: 18px;
    background: #f3f1eb;
    border: none;
    cursor: pointer;
    color: #0f4c81; /* è—è‰² */
    border-bottom: 1px solid #e6e2d3;
    transition: background 0.2s;
}

.wf-card-toggle:hover {
    background: #e8e5dd;
}

/* æŠ˜ã‚ŠãŸãŸã¿å†…å®¹ */
.wf-card-content {
    padding: 15px;
    display: none; /* JSã§åˆ¶å¾¡ */
    animation: fadeIn 0.4s ease;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(6px); }
    to   { opacity: 1; transform: translateY(0); }
}

/* ===============================
   å…¥åŠ›ãƒ»é¸æŠã‚¨ãƒªã‚¢
   =============================== */
.wf-row {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 5px;
}

input, select {
    padding: 10px;
    font-size: 16px;
    border-radius: 6px;
    border: 1px solid #c8c2b4;
    background: #fdfcf7;
    flex: 1;
    min-width: 120px;
}

/* å˜ä½ã®æ³¨é‡ˆï¼ˆalertã®ä»£ã‚ã‚Šï¼‰ */
.wf-unit-note {
    font-size: 13px;
    color: #555;
    margin-bottom: 15px;
    min-height: 1.2em;
    padding-left: 8px;
    border-left: 3px solid #649fa4;
}

/* ã”ç ´ç®—ãƒœã‚¿ãƒ³ */
.wf-btn-clear {
    padding: 6px 20px;
    background: #f8b500; /* å±±å¹è‰² */
    color: #333;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: 0.2s;
}

.wf-btn-clear:hover {
    background: #ffcc33;
}

/* ===============================
   çµæœè¡¨ç¤ºãƒ†ãƒ¼ãƒ–ãƒ«
   =============================== */
.wf-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
}

.wf-table th, .wf-table td {
    padding: 10px;
    border-bottom: 1px solid #e6e2d3;
    text-align: left;
}

.wf-table th {
    background: #f3f1eb;
    color: #0f4c81;
}

/* 1/31 è¿½åŠ  */
.unit-code { 
	font-size: 12px; 
	color: #666; 
	margin-left: 4px; 
}

/* ===============================
   ãƒ•ãƒƒã‚¿ãƒ¼
   =============================== */
footer {
    text-align: center;
    padding: 0px;
    font-size: 14px;
}

.spacer {
    height: 50px;
}

.calc-float-btn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #a74fff;
    color: white;
    padding: 10px 16px;
    border-radius: 20px;
    font-size: 16px;
    text-decoration: none;
    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    z-index: 9999;

    opacity: 0;              /* æœ€åˆã¯é€æ˜ */
    transition: opacity 0.6s ease;  /* ãµã‚ã£ã¨è¡¨ç¤º */
}
.calc-float-btn.visible {
    opacity: 0.85;           /* åŠé€æ˜ã§å­˜åœ¨æ„Ÿã‚’æŠ‘ãˆã‚‹ 0.75ã‹ã‚‰0.85ã«å¤‰æ›´ */
}
.calc-float-btn:hover {
    opacity: 1;              /* ãƒ›ãƒãƒ¼æ™‚ã ã‘100%è¡¨ç¤º */
    background: #0056b3;
}

</style>
</head>

<body>

    <header class="wf-header">
        <h1 class="wf-title">ğŸ“ å’Œé¢¨ãƒ»åº¦é‡è¡¡ã‚³ãƒ³ãƒãƒ¼ã‚¿ãƒ¼</h1>
        <button class="wf-back-button" onclick="location.href='index.html'">æˆ»ã‚‹</button>
    </header>

    <main id="converter-root">
        </main>

<script>
/* ===============================
   å˜ä½ãƒ‡ãƒ¼ã‚¿ã¨å®šç¾©
   =============================== */
// 1åªã®æ­£ç¢ºãªå®šç¾©ï¼ˆ400/121 å¹³æ–¹ãƒ¡ãƒ¼ãƒˆãƒ«ï¼‰
const TSUBO_TO_M2 = 3.305785123966942;

const UNIT_TABLE = {
    length: {
        name: "é•·ã•ã®æ›ç®—",
        units: { m: 1, km: 1000, inch: 0.0254, foot: 0.3048, yard: 0.9144, mile: 1609.344, sun: 0.030303, shaku: 0.30303, nautical: 1852 },
        labels: { m: "ãƒ¡ãƒ¼ãƒˆãƒ«", km: "ã‚­ãƒ­ãƒ¡ãƒ¼ãƒˆãƒ«", inch: "ã‚¤ãƒ³ãƒ", foot: "ãƒ•ã‚£ãƒ¼ãƒˆ", yard: "ãƒ¤ãƒ¼ãƒ‰", mile: "ãƒã‚¤ãƒ«", sun: "å¯¸", shaku: "å°º", nautical: "æµ·é‡Œ" },
        tips: { sun: "1å¯¸ = ç´„3.03cm", shaku: "1å°º = ç´„30.3cm", nautical: "1æµ·é‡Œ = 1852m" }
    },
    area: {
        name: "é¢ç©ã®æ›ç®—",
        units: { 
            m2: 1, a: 100, ha: 10000, km2: 1000000, yd2: 0.836127, ac: 4046.856, 
            tsubo: TSUBO_TO_M2, 
            han: TSUBO_TO_M2 * 300, 
            cho: TSUBO_TO_M2 * 3000 
        },
        labels: { m2: "å¹³æ–¹ãƒ¡ãƒ¼ãƒˆãƒ«", a: "ã‚¢ãƒ¼ãƒ«", ha: "ãƒ˜ã‚¯ã‚¿ãƒ¼ãƒ«", km2: "å¹³æ–¹ã‚­ãƒ­", yd2: "å¹³æ–¹ãƒ¤ãƒ¼ãƒ‰", ac: "ã‚¨ãƒ¼ã‚«ãƒ¼", tsubo: "åª", han: "å", cho: "ç”º" },
        tips: { tsubo: "1åª = ç´„3.31ã¡", han: "1å = 300åª", cho: "1ç”º = 10å" }
    },
    volume: {
        name: "å®¹ç©ã®æ›ç®—",
        units: { ml: 1, l: 1000, dl: 100, m3: 1000000, gallon: 3785.41, shaku: 18.039, go: 180.39, sho: 1803.9, to: 18039 },
        labels: { ml: "ãƒŸãƒªãƒªãƒƒãƒˆãƒ«", l: "ãƒªãƒƒãƒˆãƒ«", dl: "ãƒ‡ã‚·ãƒªãƒƒãƒˆãƒ«", m3: "ç«‹æ–¹ãƒ¡ãƒ¼ãƒˆãƒ«", gallon: "ã‚¬ãƒ­ãƒ³", shaku: "å‹º", go: "åˆ", sho: "å‡", to: "æ–—" },
        tips: { go: "1åˆ = ç´„180ml", sho: "1å‡ = 10åˆ", to: "1æ–— = 10å‡" }
    },
    weight: {
        name: "é‡é‡ã®æ›ç®—",
        units: { mg: 1, g: 1000, kg: 1000000, ton: 1000000000, carat: 200, ounce: 28349.5, pound: 453592, kan: 3750000 },
        labels: { mg: "ãƒŸãƒªã‚°ãƒ©ãƒ ", g: "ã‚°ãƒ©ãƒ ", kg: "ã‚­ãƒ­ã‚°ãƒ©ãƒ ", ton: "ãƒˆãƒ³", carat: "ã‚«ãƒ©ãƒƒãƒˆ", ounce: "ã‚ªãƒ³ã‚¹", pound: "ãƒãƒ³ãƒ‰", kan: "è²«" },
        tips: { kan: "1è²« = 3.75kg" }
    },
    temperature: {
        name: "æ¸©åº¦ã®æ›ç®—",
        labels: { K: "ã‚±ãƒ«ãƒ“ãƒ³", C: "æ‘‚æ°ï¼ˆâ„ƒï¼‰", F: "è¯æ°ï¼ˆâ„‰ï¼‰" },
        tips: { K: "çµ¶å¯¾é›¶åº¦ã¯ 0K", C: "æ°´ãŒå‡ã‚‹ã®ã¯ 0â„ƒ", F: "æ°´ãŒå‡ã‚‹ã®ã¯ 32â„‰" }
    },
    pressure: {
        name: "åœ§åŠ›ã®æ›ç®—",
        units: { Pa: 1, hPa: 100, mmHg: 133.322, atm: 101325 },
        labels: { Pa: "ãƒ‘ã‚¹ã‚«ãƒ«", hPa: "ãƒ˜ã‚¯ãƒˆãƒ‘ã‚¹ã‚«ãƒ«", mmHg: "æ°´éŠ€æŸ±(mmHg)", atm: "æ¨™æº–å¤§æ°—åœ§" },
        tips: { hPa: "1hPa = 100Pa", atm: "1æ°—åœ§ = 1013.25hPa" }
	},
    
    /* â–¼â–¼â–¼ ã“ã“ã‹ã‚‰é€Ÿåº¦ã®æ›ç®—ã‚’è¿½åŠ  â–¼â–¼â–¼ */
    speed: {
        name: "é€Ÿåº¦ã®æ›ç®—",
        units: {
            ms: 1,                 // m/s
            mmin: 1/60,            // m/min
            kmh: 1000/3600,        // km/h
            fts: 0.3048,           // ft/s
            ftmin: 0.3048/60,      // ft/min
            mph: 1609.344/3600,    // mile/h
            kt: 0.514444,          // knot
            mach: 340.29           // Machï¼ˆæµ·é¢åŸºæº–ï¼‰
        },
        labels: {
            ms: "ãƒ¡ãƒ¼ãƒˆãƒ«æ¯ç§’",
            mmin: "ãƒ¡ãƒ¼ãƒˆãƒ«æ¯åˆ†",
            kmh: "ã‚­ãƒ­ãƒ¡ãƒ¼ãƒˆãƒ«æ¯æ™‚",
            fts: "ãƒ•ã‚£ãƒ¼ãƒˆæ¯ç§’",
            ftmin: "ãƒ•ã‚£ãƒ¼ãƒˆæ¯åˆ†",
            mph: "ãƒã‚¤ãƒ«æ¯æ™‚",
            kt: "ãƒãƒƒãƒˆ",
            mach: "ãƒãƒƒãƒ"
        },
        tips: {
            kt: "1ãƒãƒƒãƒˆ = 1æµ·é‡Œ/æ™‚ = ç´„0.514m/s",
            mach: "ãƒãƒƒãƒã¯æµ·é¢åŸºæº–ã§ç´„340m/s"
        }
    }
};

/* ===============================
   HTMLç”Ÿæˆãƒ»åˆæœŸåŒ–
   ============================== */
const root = document.getElementById('converter-root');

for (const key in UNIT_TABLE) {
    const category = UNIT_TABLE[key];
    const section = document.createElement('section');
    section.className = 'wf-card';
    section.innerHTML = `
        <button class="wf-card-toggle" data-target="${key}-content">${category.name}</button>
        <div id="${key}-content" class="wf-card-content">
            <div class="wf-row">
                <input type="number" id="${key}-value" placeholder="æ•°å€¤ã‚’å…¥åŠ›" oninput="runConvert('${key}')">
                <select id="${key}-unit" onchange="runConvert('${key}')"></select>
            </div>
            <div id="${key}-tip" class="wf-unit-note"></div>
            <button class="wf-btn-clear" onclick="clearFields('${key}')">ã”ç ´ç®—</button>
            <table class="wf-table">
                <thead><tr><th>å˜ä½</th><th>çµæœ</th></tr></thead>
                <tbody id="${key}-results"></tbody>
            </table>
        </div>
    `;
    root.appendChild(section);

	// ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹ã®é¸æŠè‚¢ã‚’è¿½åŠ 
	const select = document.getElementById(`${key}-unit`);
	for (const unitKey in category.labels) {
	    const option = document.createElement('option');
	    option.value = unitKey;
	    option.textContent = `${category.labels[unitKey]} (${unitKey})`;
	    select.appendChild(option);
	}
}

/* ===============================
   è¨ˆç®—ãƒ»åˆ¶å¾¡ãƒ­ã‚¸ãƒƒã‚¯
   ============================== */

// æ›ç®—å®Ÿè¡Œ
function runConvert(categoryKey) {
    const valInput = document.getElementById(`${categoryKey}-value`);
    const unitSelect = document.getElementById(`${categoryKey}-unit`);
    const tipArea = document.getElementById(`${categoryKey}-tip`);
    const tbody = document.getElementById(`${categoryKey}-results`);
    
    const value = parseFloat(valInput.value);
    const unit = unitSelect.value;

    // æ³¨é‡ˆã®æ›´æ–°
    tipArea.textContent = UNIT_TABLE[categoryKey].tips?.[unit] || "";

    if (isNaN(value)) {
        tbody.innerHTML = "";
        return;
    }

    let results = {};
    if (categoryKey === "temperature") {
        results = calcTemp(value, unit);
    } else {
        const units = UNIT_TABLE[categoryKey].units;
        const base = value * units[unit];
        for (const k in units) {
            let res = base / units[k];
            // æµ®å‹•å°æ•°ç‚¹èª¤å·®ã®è£œæ­£ï¼ˆ299.999...å•é¡Œã‚’è§£æ¶ˆï¼‰
            results[k] = Math.abs(res - Math.round(res)) < 1e-9 ? Math.round(res) : res.toFixed(6);
        }
    }

    const labels = UNIT_TABLE[categoryKey].labels;
    tbody.innerHTML = Object.entries(results) 
    	.map(([u, v]) => 
    		`<tr> <td>${labels[u]} <span class="unit-code">(${u})</span>
    		</td> <td>${Number(v).toLocaleString(undefined, {maximumFractionDigits:6})}</td> 
		</tr>` ) 
		.join("");
	}

// æ¸©åº¦å°‚ç”¨è¨ˆç®—
function calcTemp(v, u) {
    let k, c, f;
    if (u === "K") { k = v; c = v - 273.15; f = c * 9/5 + 32; }
    else if (u === "C") { c = v; k = v + 273.15; f = v * 9/5 + 32; }
    else { f = v; c = (v - 32) * 5/9; k = c + 273.15; }
    return { K: k.toFixed(2), C: c.toFixed(2), F: f.toFixed(2) };
}

// ã”ç ´ç®—ï¼ˆã‚¯ãƒªã‚¢ï¼‰
function clearFields(key) {
    document.getElementById(`${key}-value`).value = "";
    document.getElementById(`${key}-results`).innerHTML = "";
    document.getElementById(`${key}-tip`).textContent = "";
}

// æŠ˜ã‚ŠãŸãŸã¿ã‚¤ãƒ™ãƒ³ãƒˆ
document.addEventListener("click", (e) => {
    if (e.target.classList.contains("wf-card-toggle")) {
        const targetId = e.target.dataset.target;
        const content = document.getElementById(targetId);
        const isVisible = content.style.display === "block";
        content.style.display = isVisible ? "none" : "block";
    }
});

// åˆæœŸçŠ¶æ…‹ï¼šé•·ã•ã®ã‚«ãƒ¼ãƒ‰ã ã‘é–‹ã„ã¦ãŠã
document.getElementById("length-content").style.display = "block";


function showCalcButtonOnScroll() {
    const btn = document.querySelector(".calc-float-btn");
    const scrollY = window.scrollY;

    if (scrollY > 1) {   // â† ã“ã“ã‚’ 50ã‚’1 ã«å¤‰æ›´
        btn.classList.add("visible");
    } else {
        btn.classList.remove("visible");
    }
}

window.addEventListener("scroll", showCalcButtonOnScroll);
window.addEventListener("load", showCalcButtonOnScroll);

</script>

<footer>
    Â© 20260202 ettomio - èˆã„ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼
</footer>

	<!-- HTMLæœ«å°¾ã«ã“ã‚Œã‚’è¿½åŠ  5/5 -->
	<div style="height: 50px;"></div>

    <!-- ğŸ§® ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°é›»å“ãƒœã‚¿ãƒ³ -->
    <a href="calculatorapp.html?from=metrology" class="calc-float-btn">ğŸ§® é›»å“</a>
    
</body>
</html>
